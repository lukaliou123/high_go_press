# HighGoPress KRaft配置
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.

############################
# HighGoPress KRaft Server 配置
############################

# 身份配置
process.roles=broker,controller
node.id=1
controller.quorum.voters=1@localhost:9093

# 网络配置
listeners=PLAINTEXT://localhost:9092,CONTROLLER://localhost:9093
advertised.listeners=PLAINTEXT://localhost:9092
controller.listener.names=CONTROLLER
inter.broker.listener.name=PLAINTEXT

# 存储配置
log.dirs=/tmp/kraft-combined-logs
num.network.threads=3
num.io.threads=8
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600

# 日志保留策略（针对高流量优化）
num.partitions=3
default.replication.factor=1
min.insync.replicas=1
log.retention.hours=168
log.segment.bytes=1073741824
log.retention.check.interval.ms=300000

# 性能优化配置
num.replica.fetchers=1
replica.fetch.max.bytes=1048576
message.max.bytes=1000000
replica.fetch.wait.max.ms=500
fetch.purgatory.purge.interval.requests=1000
producer.purgatory.purge.interval.requests=1000
delete.records.purgatory.purge.interval.requests=1

# HighGoPress 主题自动创建
auto.create.topics.enable=true
